/*! taupo-bungy 2018-04-04 */
!function(a,b){"use strict";a.Instagram=function(a){Object.defineProperty(this,"API_URL",{enumerable:!1,configurable:!1,writable:!1,value:"https://api.instagram.com/v1"}),Object.defineProperty(this,"ENDPOINTS",{enumerable:!1,configurable:!1,writable:!1,value:{tag:"tags/{tagName}",tagRecent:"tags/{tagName}/media/recent",user:"users/self/media/recent"}});var b={hashtag:"",clientID:"",accessToken:"",maxPhotos:14,photoTmplElm:$("#instagram-photo-tmpl"),galleryElmSel:"#instagram-gallery",initSlick:!0};this.options=$.extend(!0,b,a),this.loadedPhotos=[],this.nextMaxTagId,this.loadNext=!0},a.Instagram.prototype.init=function(){var a=this,b=this.options;$(b.galleryElmSel).empty(),a.initPhotoSwipe(".instagram__link"),this.initSlick()},a.Instagram.prototype.buildRequestURL=function(a){var b=this.options,c=this.API_URL,d=this.ENDPOINTS;a||(a="user");var e=c;return e+="/"+d[a].replace("{tagName}",b.hashtag)},a.Instagram.prototype.getData=function(a,b){var c=this,d=this.options,e=this.buildRequestURL(a);e&&c.loadNext&&$.ajax({url:e,dataType:"jsonp",type:"GET",data:{access_token:d.accessToken,count:d.maxPhotos,max_tag_id:c.nextMaxTagId}}).done(function(a){"function"==typeof b&&b.call(null,a)})},a.Instagram.prototype.loadPhotos=function(){var a=this,b=this.options;this.getData("user",function(c){var d=c.data,e=c.pagination.next_max_tag_id;if(a.nextMaxTagId=e,e||(a.loadNext=!1),d.length){var f=a.loadedPhotos.length,g=_.template(b.photoTmplElm.html());_.each(d,function(c){var d=c.images,e=c.caption,h=c.likes,i=d?d.standard_resolution:"",j=d?d.low_resolution:"";if(i.url&&g){var k={src:i.url,msrc:j.url,title:e?e.text:"",likes:h.count,w:i.width,h:i.height,index:f};$(b.galleryElmSel).slick("slickAdd",g(k)),a.loadedPhotos.push(k),f++}})}})},a.Instagram.prototype.initPhotoSwipe=function(a){var b=this,c=(this.options,{index:0,shareEl:!1,preload:[1,3],history:!1,bgOpacity:.9});$(document).on("click",a,function(a){a.preventDefault();var d=$(this),e=d.data("index");c.index=e,new PhotoSwipe($(".pswp").get(0),PhotoSwipeUI_Default,b.loadedPhotos,c).init()})},a.Instagram.prototype.initSlick=function(){var a=this,b=this.options;!0===b.initSlick&&$(b.galleryElmSel).on("init",function(b,c){a.loadPhotos()}).slick({mobileFirst:!0,adaptiveHeight:!1,autoplay:!1,autoplaySpeed:5e3,dots:!1,infinite:!0,speed:250,slidesToShow:3,slidesToScroll:3,arrows:!0,prevArrow:'<div class="instagram__nav instagram__nav--prev"><i class="fas fa-angle-left"></i></div>',nextArrow:'<div class="instagram__nav instagram__nav--next"><i class="fas fa-angle-right"></i></div>',responsive:[{breakpoint:320,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1199,settings:{slidesToShow:5,slidesToScroll:5}}]}).on("afterChange",function(b,c,d,e){2*d>=a.loadedPhotos.length&&a.loadPhotos()})}}(window,document),function(a){function b(){var a=$(".cover-video"),b=a.data("id");if(1==a.length&&b){var c=document.createElement("script");c.src="https://www.youtube.com/iframe_api?callback=onYouTubeIframeAPIReady",$("head").append(c)}}a.App=function(){this.config={serviceUrl:"/requests/service",loadedGalleries:{}}},a.App.prototype.init=function(){this.config=$.extend(!0,this.config,jsVars),this.toggleNav(".mobile-btn--trigger"),this.toggleSubNav(".toggle-sub-nav"),this.initHeroSlider("#slider"),this.initHeroScroll(".hero__scroll"),this.initSpecialCarousel(".special-carousel"),this.initJumpPhotoCarousel(".jump-photo-carousel"),this.initActivityPhotoCarousel(".activity-photo-carousel"),this.initPhotoCarousel(".photo-carousel"),this.initComboCarousel(".combos"),this.initComboCarousel(".specials-carousel"),this.initShowcaseCarousel(".showcase__grid"),this.initReviewsCarousel(".reviews-carousel"),this.initFeaturedCarousel(".featured-carousel"),this.initGalleryCarousel(".gallery__carousel"),this.initPhotoswipe(".gallery__carousel a"),this.initVideoPopup("[data-toggle-popup]"),this.initMap(),this.initNewsletterSignup("#news-signup-form"),this.matchElmHeight(".tour-item"),this.matchElmHeight(".combos-grid .mod-grid"),$(window).width()>991&&this.matchElmHeight(".specials"),$(window).on("resize",function(){app.setHeroVideoDimensions()}).trigger("resize"),$(window).on("scroll",function(){if($(window).width()<1200){$(window).scrollTop()>50?$(".logo").addClass("scroll"):$(".logo").removeClass("scroll")}});var a=jsVars.instagramSettings;new Instagram(a).init(),$(".dropdown").hover(function(){$(".dropdown-menu",this).stop().fadeIn("fast")},function(){$(".dropdown-menu",this).stop().fadeOut("fast")}),$(".showcase__gallery .showcase__item").swipebox({removeBarsOnMobile:!1,autoplayVideos:!1,videoMaxWidth:$(window).width()}),this.initShuffle("#shuffle")},a.App.prototype.initShuffle=function(a){var b=$(a);b.length&&(b.shuffle({group:"all",itemSelector:".showcase__item",speed:450,delimeter:","}),$(".shuffle-trigger").on("click",function(a){a.preventDefault(),b.shuffle("shuffle",$(this).attr("data-group")),$(".shuffle-trigger").removeClass("active"),$(this).addClass("active")}))},a.App.prototype.setHeroVideoDimensions=function(){var a=$(".video__wrapper iframe");if(a.length){var b=$(window).height(),c=$(window).width(),d=1.77*b;d<c?(d=c,newIframeHeight=.565*c):newIframeHeight=b;a.css({height:newIframeHeight,width:d})}},a.App.prototype.initHeroSlider=function(a){var b=$(a);slickInst=b.slick({dots:!1,infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:this.config.globals.slideshowSpeed,fade:!0,cssEase:"linear",arrows:!0,prevArrow:'<div class="slider__nav slider__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="slider__nav slider__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1})},a.App.prototype.initReviewsCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!0,infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:6e3,fade:!0,cssEase:"linear",arrows:!0,prevArrow:'<div class="review__carousel__nav review__carousel__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="review__carousel__nav review__carousel__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1})},a.App.prototype.initSpecialCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,cssEase:"linear",arrows:!0,prevArrow:'<div class="featured__carousel__nav featured__carousel__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="featured__carousel__nav featured__carousel__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:1200,settings:{slidesToShow:1,slidesToScroll:1}}]})},a.App.prototype.initJumpPhotoCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!1,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:3,cssEase:"linear",arrows:!0,prevArrow:'<div class="featured__carousel__nav featured__carousel__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="featured__carousel__nav featured__carousel__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}}]}),$(".swipebox_item").click(function(){$(".jump-photo-carousel .swipebox_item").swipebox({removeBarsOnMobile:!1,autoplayVideos:!0,videoMaxWidth:$(window).width()-400,afterOpen:function(){var a=$("#swipebox-close"),b="touchend click";a.unbind(b),a.bind(b,function(a){a.preventDefault(),a.stopPropagation(),$.swipebox.close()})}})})},a.App.prototype.initActivityPhotoCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!1,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:3,cssEase:"linear",arrows:!0,prevArrow:'<div class="carousel__nav carousel__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="carousel__nav carousel__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4}}]}),$(".swipebox_item").click(function(){$(".activity-photo-carousel .swipebox_item").swipebox({removeBarsOnMobile:!1,autoplayVideos:!1,videoMaxWidth:$(window).width()-400,afterOpen:function(){var a=$("#swipebox-close"),b="touchend click";a.unbind(b),a.bind(b,function(a){a.preventDefault(),a.stopPropagation(),$.swipebox.close()})}})})},a.App.prototype.initPhotoCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:4,cssEase:"linear",arrows:!0,prevArrow:'<div class="carousel__nav carousel__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="carousel__nav carousel__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4}}]}),$(".swipebox_item").click(function(){$(".photo-carousel .swipebox_item").swipebox({removeBarsOnMobile:!1,autoplayVideos:!1,videoMaxWidth:$(window).width()-400,afterOpen:function(){var a=$("#swipebox-close"),b="touchend click";a.unbind(b),a.bind(b,function(a){a.preventDefault(),a.stopPropagation(),$.swipebox.close()})}})})},a.App.prototype.initComboCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,cssEase:"linear",arrows:!1,prevArrow:'<div class="carousel__nav carousel__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="carousel__nav carousel__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1})},a.App.prototype.initFeaturedCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!1,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:3,cssEase:"linear",arrows:!0,prevArrow:'<div class="featured__carousel__nav featured__carousel__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="featured__carousel__nav featured__carousel__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}}]})},a.App.prototype.initShowcaseCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!0,dotsClass:"slick-dots showcase__nav-dots",infinite:!0,speed:300,slidesToShow:3,slidesToScroll:3,cssEase:"linear",arrows:!0,prevArrow:'<div class="showcase__nav showcase__nav--prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="showcase__nav showcase__nav--next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}}]})},a.App.prototype.initHeroScroll=function(a){$(a).on("click",function(a){a.preventDefault(),topHeight=$(window).width()<=991?50:220,$("html, body").delay(100).animate({scrollTop:$("#main").offset().top-topHeight},400)})},a.App.prototype.initMap=function(){if($("#map-canvas").length){var a=app.getConfigItem("latitude"),b=app.getConfigItem("longitude"),c=app.getConfigItem("zoomLevel"),d=app.getConfigItem("address");if(a&&b){var e,f=($(window).width(),!1),g="/graphics/map-marker.png";f=!0;var h={zoom:parseInt(c),center:new google.maps.LatLng(a,b),scrollwheel:!1,zoomControl:!0,draggable:f,mapTypeId:google.maps.MapTypeId.ROAD};e=new google.maps.Map(document.getElementById("map-canvas"),h),marker=new google.maps.Marker({position:new google.maps.LatLng(a,b),map:e,icon:g});var i=new google.maps.InfoWindow({content:d});marker.addListener("click",function(){i.open(e,marker)})}}},a.App.prototype.initGalleryCarousel=function(a){var b=$(a);slickInst=b.slick({dots:!1,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:1,prevArrow:'<div class="gallery__carousel__prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="gallery__carousel__next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1}}]})},a.App.prototype.initPhotoswipe=function(a){var b=$(a);if(b.length){var c=app.getConfigItem("galleryImages"),d={index:0,shareEl:!1,preload:[1,2],history:!1,bgOpacity:.8};$.each(c,function(a,b){c[a].src=b.full_path}),b.on("click",function(a){a.preventDefault(),d.index=$(this).data("key"),new PhotoSwipe($(".pswp").get(0),PhotoSwipeUI_Default,c,d).init()})}},a.App.prototype.initVideoPopup=function(a){var b=$(a);b.length&&(b.on("click",function(a){a.preventDefault();var b=$(this),c=$(b.data("toggle-popup"));c.toggleClass("open"),$("body").addClass("no-scroll");var d=c.find("iframe");d.length&&d.attr("src",d.data("src"))}),$("body").on("click",".popup .close",function(a){a.preventDefault();var b=$(this),c=$(b.attr("href"));c.toggleClass("open"),$("body").removeClass("no-scroll");var d=c.find("iframe");d.length&&d.attr("src","")}))},a.App.prototype.getVar=function(a,b){if(b.hasOwnProperty(a))return b[a];for(var c in b)if(b[c].hasOwnProperty(a))return b[c][a];return!1},a.App.prototype.getConfigItem=function(a){return this.getVar(a,this.config)},a.App.prototype.toggleNav=function(a){var b=$(a);b.length&&(b.on("click",function(a){a.preventDefault();$(this);$(".nav-wrap").addClass("active"),$("body").addClass("no-scroll")}),$(".mobile-btn--close").on("click",function(a){a.preventDefault(),$(".nav-wrap").removeClass("active"),$("body").removeClass("no-scroll")}))},a.App.prototype.toggleSubNav=function(a){var b=$(a);b.length&&b.on("click",function(a){a.preventDefault();var b=$(this),c=b.parents(".has-menu").find("ul");c.length&&(c.toggleClass("active"),b.toggleClass("active"))})},a.App.prototype.matchElmHeight=function(a){var b="string"==typeof a?$(a):a;if(b){b.css("height","auto");var c=0;b.each(function(a,b){var d=$(b),e=d.height();e>c&&(c=e)}),b.css("height",c)}},a.App.prototype.initNewsletterSignup=function(a){var b=$(a);if(b.length){var c=b.find("#newsletter-submit");c.length&&c.on("click",function(a){a.preventDefault();var c=$.trim(b.find("#signup-email").val()),d="",e="msg--error",f=b.find(".msg");if(c){/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(c)?$.post(app.getConfigItem("serviceUrl"),"action=sign-up&email="+c,function(a){return a.msg&&f.removeAttr("class").addClass("msg "+a.type).html(a.msg),a.isValid&&setTimeout(function(){f.removeClass(a.type).html(""),b.find("#full-name").val(""),b.find("#signup-email").val("")},5e3),!1},"json"):d="Invalid email address provided."}else d="Your email address is required.";d&&f.removeAttr("class").addClass("msg "+e).html(d)})}},a.onYouTubeIframeAPIReady=function(){var a,b,c=$(".cover-video").get(0),d=$(".video__wrapper"),e=c.getAttribute("data-id"),f=d.width(),g=d.height();d.css("overflow","hidden");new YT.Player(c,{videoId:e,width:f,height:g,playerVars:{start:0,autoplay:!0,controls:!1,rel:0,showinfo:!1,modestbranding:!0,loop:!0,fs:!1,cc_load_policy:!0,iv_load_policy:3,autohide:!1,playlist:e},events:{onReady:function(c){c.target.mute(),a=1.77*g,a<f?(a=f,b=.565*f):b=g,$(".cover-video").css({height:b,width:a}),$(".page__photo__caption--ghost").delay(2e3).animate({opacity:"1"},1500).delay(7500).animate({opacity:"0"},1500)}}})},b()}(window);var app=new App;